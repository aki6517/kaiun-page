# サイトマップ設計書

## 1. サイト構造（階層）

```txt
/
├── /blog/
│   ├── /blog/[slug]/
│   └── /blog/category/[category]/
├── /privacy-policy/
├── /sitemap.xml
├── /robots.txt
├── /llms.txt
└── /llms-full.txt
```

## 2. URL設計ルール

- URLは英小文字 + ハイフン区切りを原則とする。
- 記事URLは`/blog/[slug]/`に統一し、slugはサイト内一意とする。
- 階層は3階層以内を維持する。
- ページネーションは階層を増やさないため、クエリパラメータ（例: `/blog/?page=2`）で扱う。

## 3. ページ一覧

### トップページ（サービスページ）
- **パス**: `/`
- **説明**: 現LPをNext.jsへ移行したサービス紹介ページ
- **認証**: 不要
- **主要な機能**: ヒーロー、機能紹介、料金、FAQ、App Store CTA、構造化データ（SoftwareApplication/FAQ等）

### ブログ一覧ページ
- **パス**: `/blog/`
- **説明**: 全記事を新着順で表示する一覧ページ
- **認証**: 不要
- **主要な機能**: 記事カード、カテゴリ導線、ページネーション、内部リンク強化

### ブログ記事詳細ページ
- **パス**: `/blog/[slug]/`
- **説明**: 個別記事ページ
- **認証**: 不要
- **主要な機能**: 本文MDX表示、目次、パンくず、関連記事、SNSシェア、Article Schema

### カテゴリ別一覧ページ
- **パス**: `/blog/category/[category]/`
- **説明**: カテゴリ単位の記事一覧ページ
- **認証**: 不要
- **主要な機能**: カテゴリ絞り込み表示、ページネーション、カテゴリ説明

### プライバシーポリシーページ
- **パス**: `/privacy-policy/`
- **説明**: 個人情報保護方針とCookie/解析ツールの説明
- **認証**: 不要
- **主要な機能**: 法務情報の明示、フッター導線

### サイトマップXML
- **パス**: `/sitemap.xml`
- **説明**: クローラ向けURL一覧
- **認証**: 不要
- **主要な機能**: 全公開URL列挙、更新日情報出力

### robots設定
- **パス**: `/robots.txt`
- **説明**: クロール制御ファイル
- **認証**: 不要
- **主要な機能**: `/api/`のクロール禁止、`sitemap.xml`の通知

### LLM向け概要
- **パス**: `/llms.txt`
- **説明**: LLM向けにサイト概要・主要ページを要約
- **認証**: 不要
- **主要な機能**: サービス情報、プラン情報、主要リンク提示

### LLM向け拡張概要
- **パス**: `/llms-full.txt`
- **説明**: ブログ記事要約を含む拡張版
- **認証**: 不要
- **主要な機能**: ビルド時生成、記事サマリー提供

### 404ページ
- **パス**: `/404`（Next.js `not-found`相当）
- **説明**: 存在しないURLアクセス時の案内ページ
- **認証**: 不要
- **主要な機能**: トップ/ブログへの復帰導線

## 4. カテゴリ一覧（固定）

| カテゴリkey | 表示名 | 用途 |
|---|---|---|
| `tarot` | タロット | カード解説・占い記事 |
| `kaiun` | 開運 | 習慣・開運アクション記事 |
| `koyomi` | 暦・吉日 | 一粒万倍日・天赦日など |
| `moon` | 月の満ち欠け | 新月・満月に関する記事 |
| `guide` | 使い方ガイド | アプリ利用方法・導入ガイド |

## 5. ページ間の遷移関係

```txt
トップ(/) -> ブログ一覧(/blog/)
トップ(/) -> プライバシーポリシー(/privacy-policy/)
ブログ一覧(/blog/) -> 記事詳細(/blog/[slug]/)
ブログ一覧(/blog/) -> カテゴリ一覧(/blog/category/[category]/)
カテゴリ一覧(/blog/category/[category]/) -> 記事詳細(/blog/[slug]/)
記事詳細(/blog/[slug]/) -> 関連記事(/blog/[slug]/)
記事詳細(/blog/[slug]/) -> トップ(/) [アプリCTA]
全ページ -> プライバシーポリシー(/privacy-policy/) [フッター]
```

## 6. 認証が必要なページ

- なし（本サイトは公開コンテンツのみで構成）

## 7. SEO・クロール観点の補足

- すべての公開ページにcanonical URLを設定する。
- すべてのページでパンくずを表示し、`BreadcrumbList`を付与する。
- `sitemap.xml`には`/`, `/blog/`, `/blog/[slug]/`, `/blog/category/[category]/`, `/privacy-policy/`を含める。
- 非公開またはAPI用途のルートは`robots.txt`で明示的に制御する。
